.k-checkbox {
    &.k-checkbox-inline {
        &.toggleButton {
            margin-right:.625rem;
        }
    }

    label {

        .k-checkbox-material {
            padding-right: .1875rem;
            display: inline;

            &::before{
                content:" ";
                position: absolute;
                width: 3.25rem;
                height:3.25rem;
                border-radius: 50%;
                background: $checked-color;
                left:-1rem;
                top:-1rem;
                opacity: 0;
                transform: scale(0);
            }

            .check{
                border:2px solid rgba(#000,(50/100));
                @include border-radius(2px);
                width: 1.25rem;
                height:1.25rem;
                display: inline-block;
                position: absolute;
                margin-left: -1.25rem;
                z-index: 1;
                transition:background 0.3s ease;
                z-index: 1;
                background: white;

                &::before{
                    content: " ";
                    position: absolute;
                    border-left:2px solid white;
                    border-bottom: 2px solid white;
                    left:0.1rem;
                    top:0.25rem;
                    height: 0.375rem;
                    width:0.75rem;
                    transform: rotate(-45deg) scale(0);
                    transition: transform .3s;
                }

            }
        }

        .toggle {
            display: inline-block;
            width:1.875rem;
            height:1em;
            border-radius: 0.9375rem;
            vertical-align: middle;
            position: relative;
            margin-left: -1.25rem;
            margin-top: -0.1875rem;
            margin-right:0.3125rem;
            transition:background .3s;

            &::before{
                content: '';
                position: absolute;
                width: 1.25rem;
                height:1.25rem;
                border-radius: 50%;
                left: -.3125rem;
                top:-.25rem;
                box-shadow: 0 0px 3px 1px rgba(0, 0, 0, 0.4);
                transition:left .3s,background .3s;
                z-index: 1;
            }

            &::after{
                content:'';
                width: 3.25rem;
                height:3.25rem;
                border-radius: 50%;
                position: absolute;
                opacity: 0;
                top:-1.25rem;
                transform: scale(0);
                transition: left .3s,transform .5s;
                z-index: 0;
            }
        }

        input[type="checkbox"] {     
            &:checked{
                &+.k-checkbox-material{  
                    .check{
                        border-color: $checked-color;
                        background: $checked-color;
                        &::before{
                            transform:rotate(-45deg) scale(1);
                        }
                    }
                }

                &+.toggle {
                    background: $toggle-on-bgColor;
                    &::before{
                        left:15px;
                        background:$checked-color;
                    }
                    &::after{
                        left:-.125rem;
                        background:$checked-color;
                    }
                }
            }

            &:not(:checked){
                &+.toggle{
                    background: $toggle-off-bgColor;
                    &::before{
                        background:#f5f5f5;
                    }
                    &::after{
                        left:-1.375rem;
                        background:black;
                        
                    }
                }
            }

            

            &:focus{
                &:checked{
                    &+.k-checkbox-material{
                        &::before{
                            animation: rippleOn .7s;
                        }
                    }  
                }


                &:not(:checked){
                    &+.k-checkbox-material{
                        &::before{
                            animation: rippleOff .7s;
                        }
                    }
                } 
            }
            
        }
    }

    &.disabled {
        label {
            .k-checkbox-material {
                .check{    
                    border-color: $disabled-color;
                }
            }

            input[type="checkbox"][disabled]{
                &:checked{
                    &+.k-checkbox-material{
                         &::before{
                            transform: scale(0);
                        }
                        .check{
                            border-color:$disabled-bgColor;
                            background: $disabled-bgColor;
                        }
                    } 

                    &+.toggle{
                        &::before{
                            background: $toggle-on-disabled-bgColor;
                        }
                    }
                }

                &:not(:checked){
                    &+.toggle{
                        &::before{
                            background: $disabled-color;
                        }
                    }
                } 
            }
        }
    }
}

.toggleButton {
    input[type="checkbox"]{
        display: none;
    }
}
